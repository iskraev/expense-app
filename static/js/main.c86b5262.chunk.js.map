{"version":3,"sources":["components/common.module.scss","components/accounts/accounts.module.scss","components/categories/categories.module.scss","components/account_page/account_page.module.scss","components/app.module.scss","components/header.module.scss","actions/accounts_actions.js","components/accounts/create_account.jsx","components/accounts/account_item.jsx","components/accounts/accounts.jsx","components/accounts/accounts_container.js","actions/expenses_actions.js","components/expenses/create_expense.jsx","components/expenses/expense_item.jsx","components/expenses/expenses.jsx","components/expenses/expenses_container.js","components/categories/create_category.jsx","components/categories/category_item.jsx","components/categories/categories.jsx","components/categories/categories_container.js","actions/categories_actions.js","components/main.js","components/account_page/account_page.jsx","components/account_page/account_page_container.js","components/reports/reports.jsx","components/reports/reports_container.js","components/app.js","components/header.jsx","components/root.jsx","reducers/updateLocalStorage.js","reducers/helpers.js","reducers/accounts_reducer.js","reducers/root_reducer.js","reducers/user_reducer.js","reducers/categories_reducer.js","reducers/expenses_reducer.js","store/store.js","index.js","components/expenses/expenses.module.scss"],"names":["module","exports","receiveAccount","account","type","updateAccount","deleteAccount","CreateAccount","props","state","title","color","expenses","input","e","setState","currentTarget","value","createAccount","this","preventDefault","newAccount","id","uuidv4","cancel","className","StylesCommon","addForm","onSubmit","colorInput","onChange","update","placeholder","selectInput","key","onClick","React","Component","AccountItem","edit","showDelete","updatedAccount","Object","assign","stopPropagation","history","singleItem","singleItemDelete","style","Styles","titleInput","editButtons","push","printIcon","openEdit","printItemOrEdit","Accounts","openContainer","addNew","asc","bind","mainContainerButtons","add","array","sort","a","b","toLowerCase","accounts","keys","length","emptyListItem","mainContainerList","sortByTitle","values","map","mainContainer","mainContainerOpen","printAllOrEdit","listHeader","printList","withRouter","connect","dispatch","receiveExpense","expense","deleteExpense","updateExpense","payload","createExpense","amount","accountId","categoryId","date","Date","now","defaultValue","categories","category","required","printAccountsChoices","printCategoriesChoices","ExpenseItem","newExpense","oldExpense","time","m_date","Intl","DateTimeFormat","formatToParts","reduce","m_ca","m_it","day","month","year","hours","getHours","minutes","getMinutes","seconds","getSeconds","rows","printTime","currency","format","Expenses","sortByAccounts","sortByCategory","dateAsc","titleAsc","filterAccounts","filterCategories","allMonths","column","listHelper","console","log","list","adate","bdate","sortByDateWithTitle","sortByDate","prevDate","printFiltered","i","printDate","split","dateRow","getFullYear","getMonth","getDate","filter","highlightSort","CreateCategory","createCategory","newCategory","CategoryItem","updateCategory","deleteCategory","Categories","receiveCategory","AccountsPage","expenseId","infoPart","accountTitle","printExpenses","ownProps","match","params","index","AccountPage","Reports","all","daily","weekly","monthly","custom","start","end","prevProps","prevState","addTime","getTime","total","filterReports","forEach","parseFloat","calculateTotal","reportList","setMonth","setTime","subtractTime","reportNewExpense","reports","reportsChoices","reportsActive","changeStart","changeEnd","App","useHistory","app","exact","path","component","Main","Header","header","href","user","username","Root","store","getState","change","oldStorage","JSON","parse","localStorage","userInfo","stringify","deleteFromExpensesDelete","action","nextState","splice","deleteFromExpensesUpdate","rootReducer","combineReducers","freeze","updateLocalStorage","includes","configureStore","preloadedState","createStore","applyMiddleware","thunk","logger","initialState","document","addEventListener","setItem","root","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.c86b5262.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"mainContainer\":\"common_mainContainer__2rWav\",\"mainContainerList\":\"common_mainContainerList__m7A3w\",\"emptyListItem\":\"common_emptyListItem__uRSgL\",\"listHeader\":\"common_listHeader__wdou9\",\"mainContainerOpen\":\"common_mainContainerOpen__2gYtF\",\"mainContainerButtons\":\"common_mainContainerButtons__1DH8B\",\"addForm\":\"common_addForm__3Iheu\",\"colorInput\":\"common_colorInput__3bbQS\",\"singleItem\":\"common_singleItem__1XAgx\",\"edit\":\"common_edit__2S2Pq\",\"editButtons\":\"common_editButtons__1Tyyy\",\"singleItemDelete\":\"common_singleItemDelete__3gFat\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"type\":\"accounts_type__1kds7\",\"title\":\"accounts_title__71mbx\",\"titleInput\":\"accounts_titleInput__36MtO\",\"colorInput\":\"accounts_colorInput__3cufO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"type\":\"categories_type__iVKWz\",\"title\":\"categories_title__113_u\",\"titleInput\":\"categories_titleInput__1FGuY\",\"colorInput\":\"categories_colorInput__1ZlR-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"infoPart\":\"account_page_infoPart__2ifvX\",\"accountTitle\":\"account_page_accountTitle__THmCM\",\"rows\":\"account_page_rows__vKp-i\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"app_app__1NC5k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"header_header__2lrSq\"};","export const ADD_ACCOUNT = 'ADD_ACCOUNT';\r\nexport const UPDATE_ACCOUNT = 'UPDATE_ACCOUNT';\r\nexport const DELETE_ACCOUNT = 'DELETE_ACCOUNT';\r\n\r\n\r\nexport const receiveAccount = (account) => {\r\n    return ({\r\n        type: ADD_ACCOUNT,\r\n        account,\r\n      });\r\n}\r\n\r\n\r\nexport const updateAccount = (account) => {\r\n \r\n    return ({\r\n        type: UPDATE_ACCOUNT,\r\n        account,\r\n      });\r\n}\r\n\r\n\r\nexport const deleteAccount = (account) => {\r\n \r\n    return ({\r\n        type: DELETE_ACCOUNT,\r\n        account,\r\n      });\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport { FiChevronDown, FiChevronUp, FiPlus } from 'react-icons/fi'\r\nimport StylesCommon from '../common.module.scss';\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\nexport default class CreateAccount extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: '',\r\n            color: '#000000',\r\n            type: 'bankAccount',\r\n            expenses: []\r\n        }\r\n    }\r\n\r\n    update(input) {\r\n        return (e) => {\r\n            this.setState({ [input]: e.currentTarget.value })\r\n        }\r\n    }\r\n\r\n    createAccount(e){\r\n        const { createAccount } = this.props;\r\n        e.preventDefault();\r\n        const newAccount = { ...this.state };\r\n        newAccount.id = uuidv4();\r\n        createAccount(newAccount)\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const { title, color } = this.state;\r\n        const { cancel } = this.props;\r\n        return (\r\n            <div className={StylesCommon.addForm}>\r\n                <form onSubmit={(e) => this.createAccount(e)}>\r\n                    <div>\r\n                        <input className={StylesCommon.colorInput} type=\"color\" onChange={this.update('color')} value={color} />  \r\n                        <input type=\"text\" placeholder='New Account name' onChange={this.update('title')} value={title} />\r\n                        <select className={StylesCommon.selectInput} onChange={this.update('type')}>\r\n                            <option key={\"bankAccount\"} value=\"bankAccount\">Bank account</option>\r\n                            <option key={\"credit\"} value=\"credit\">Credit</option>\r\n                            <option key={\"cash\"} value=\"cash\">Cash</option>\r\n                           \r\n                        </select>\r\n                    </div>\r\n                    <div>\r\n                        <button onClick={cancel}>Cancel</button>\r\n                        <button>Add</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { FiChevronDown, FiChevronUp, FiX, FiEdit3, FiCheck, FiTrash } from 'react-icons/fi'\r\nimport { RiBankLine } from 'react-icons/ri'\r\nimport { FaMoneyBillWave } from 'react-icons/fa'\r\nimport { AiFillCreditCard } from \"react-icons/ai\";\r\nimport StylesCommon from '../common.module.scss';\r\nimport Styles from './accounts.module.scss';\r\nimport { deleteAccount } from '../../actions/accounts_actions';\r\nexport default class AccountItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            id: props.account.id,\r\n            edit: false,\r\n            showDelete: false,\r\n            title: props.account.title,\r\n            color: props.account.color,\r\n            type: props.account.type\r\n        }\r\n    }\r\n\r\n    printIcon() {\r\n        const { type } = this.state;\r\n        if (type === 'bankAccount') {\r\n            return (\r\n                <>\r\n                    <RiBankLine /> Bank\r\n                </>\r\n            )\r\n        }\r\n        if (type === 'credit') {\r\n            return (\r\n                <>\r\n                    <AiFillCreditCard /> Credit\r\n                </>\r\n            )\r\n        }\r\n\r\n        if (type === 'cash') {\r\n            return (\r\n                <>\r\n                    <FaMoneyBillWave /> Cash\r\n                </>\r\n            )\r\n        }\r\n    }\r\n\r\n    update(input) {\r\n        return e => {\r\n            this.setState({ [input]: e.currentTarget.value })\r\n        }\r\n    }\r\n\r\n    updateAccount() {\r\n        const state = this.state;\r\n        const { updateAccount, account } = this.props;\r\n        const updatedAccount = Object.assign(account, this.state)\r\n        delete updateAccount['edit']\r\n        delete updateAccount['showDelete']\r\n\r\n        this.setState({ edit: false }, () => {\r\n            updateAccount(updatedAccount)\r\n        })\r\n    }\r\n\r\n    deleteAccount(){\r\n        const {account, deleteAccount } = this.props;\r\n        this.setState({showDelete: false}, () => {\r\n            deleteAccount(account)\r\n        })\r\n    }\r\n\r\n\r\n    openEdit(e){\r\n        e.stopPropagation();\r\n        this.setState({ edit: true })\r\n    }\r\n\r\n    printItemOrEdit() {\r\n        const {  edit,  title, color, type, showDelete } = this.state;\r\n        const { account, history} = this.props;\r\n\r\n\r\n        if (showDelete) {\r\n            return (\r\n                <div className={`${StylesCommon.singleItem} ${StylesCommon.singleItemDelete}`}>\r\n                    Are you sure?\r\n                    <div>\r\n                        <button onClick={() => this.deleteAccount()}>Yes</button>\r\n                        <button onClick={() => this.setState({showDelete: false})}>No</button>\r\n                    </div>\r\n                </div>\r\n            )\r\n        } else if (edit) {\r\n            return (\r\n                <div className={StylesCommon.singleItem}>\r\n                    <div>\r\n                        <select className={StylesCommon.selectInput} onChange={this.update('type')} value={type}>\r\n                            <option value=\"bankAccount\">Bank account</option>\r\n                            <option value=\"credit\">Credit</option>\r\n                            <option value=\"cash\">Cash</option>\r\n                        </select>\r\n\r\n                        <input style={{ color: color }} value={title} className={Styles.titleInput} onChange={this.update('title')} />\r\n\r\n                        <input className={Styles.colorInput} type=\"color\" onChange={this.update('color')} value={color} />\r\n                    </div>\r\n                    <div className={StylesCommon.editButtons}>\r\n                        <FiTrash onClick={() => this.setState({showDelete: true})}/>\r\n                        <FiX onClick={() => this.setState({ title: account.title, color: account.color, type: account.type, edit: false })} />\r\n                        <FiCheck onClick={() => this.updateAccount()} />\r\n                    </div>\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div className={StylesCommon.singleItem} onClick={() => history.push(`accounts/${account.id}`)}>\r\n                    <div>\r\n                        <div className={Styles.type}>{this.printIcon()}</div>\r\n                        <div className={Styles.title} style={{ color: account.color }}>{account.title}</div>\r\n                    </div>\r\n                    <div className={StylesCommon.edit}>\r\n                        <FiEdit3 onClick={(e) => this.openEdit(e)} />\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            this.printItemOrEdit()\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { FiChevronDown, FiChevronUp, FiPlus } from 'react-icons/fi'\r\nimport StylesCommon from '../common.module.scss';\r\nimport CreateAccount from './create_account';\r\nimport AccountItem from './account_item';\r\nimport Styles from './accounts.module.scss';\r\n\r\n\r\nexport default class Accounts extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            openContainer: false,\r\n            addNew: false,\r\n            asc: true\r\n        }\r\n\r\n        this.cancel = this.cancel.bind(this);\r\n        this.createAccount = this.createAccount.bind(this);\r\n    }\r\n\r\n    add(e) {\r\n        e.stopPropagation();\r\n        this.setState({ openContainer: false, addNew: true })\r\n    }\r\n\r\n    cancel(e) {\r\n        e.preventDefault();\r\n        this.setState({ addNew: false })\r\n    }\r\n\r\n\r\n    createAccount(account) {\r\n        const { createAccount } = this.props;\r\n        this.setState({ openContainer: true, addNew: false })\r\n        createAccount(account);\r\n    }\r\n\r\n\r\n    printAllOrEdit() {\r\n        const { addNew, openContainer } = this.state;\r\n\r\n        if (addNew) {\r\n            return (\r\n                <CreateAccount createAccount={this.createAccount} cancel={this.cancel} />\r\n            )\r\n        } else {\r\n            return (\r\n                <div onClick={() => this.setState({ openContainer: !openContainer })}>\r\n                    <div>My accounts</div>\r\n                    <div>\r\n                        <div className={StylesCommon.mainContainerButtons}>\r\n                            <div onClick={(e) => this.add(e)}><FiPlus /></div>\r\n                            <div>{openContainer ? <FiChevronUp /> : <FiChevronDown />}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n    sortByTitle(array, asc) {\r\n        array.sort((a, b) => {\r\n            let element1 = a.title.toLowerCase();\r\n            let element2 = b.title.toLowerCase();\r\n            if (element1 > element2) {\r\n                if (asc) {\r\n                    return 1;\r\n                } else {\r\n                    return -1;\r\n                }\r\n            } else {\r\n                if (asc) {\r\n                    return -1;\r\n                } else {\r\n                    return 1;\r\n                }\r\n            }\r\n        })\r\n        return array;\r\n    }\r\n\r\n    printList(){\r\n        const { accounts, deleteAccount, updateAccount, history } = this.props;\r\n        const { asc } = this.state;\r\n\r\n        if(Object.keys(accounts).length === 0){\r\n            return(\r\n                <div className={StylesCommon.emptyListItem}>\r\n                    No accounts\r\n                </div>\r\n            )\r\n        }else{\r\n            return(\r\n                <div className={StylesCommon.mainContainerList}>\r\n                    {this.sortByTitle(Object.values(accounts), asc).map((account) => (\r\n                        <AccountItem key={`account-${account.id}`} history={history} account={account} updateAccount={updateAccount} deleteAccount={deleteAccount} />\r\n                    ))}\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { openContainer, asc } = this.state;\r\n        return (\r\n            <div className={`${StylesCommon.mainContainer} ${openContainer ? StylesCommon.mainContainerOpen : ''}`} >\r\n                {this.printAllOrEdit()}\r\n\r\n                <div className={StylesCommon.listHeader}>\r\n                    <div className={Styles.type}>Type</div>\r\n                    <div className={Styles.title} onClick={() => this.setState({asc: !asc})}>Title{asc ? <FiChevronDown /> : <FiChevronUp />}</div>\r\n                </div>\r\n                <hr />\r\n\r\n                {this.printList()}\r\n            </div>\r\n        )\r\n    }\r\n}","import { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { deleteAccount, receiveAccount, updateAccount } from '../../actions/accounts_actions';\r\nimport Accounts from './accounts'\r\n\r\nconst mapStateToProps = (state) => ({\r\n    accounts: state.accounts\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    createAccount: (account) => dispatch(receiveAccount(account)),\r\n    updateAccount: (account) => dispatch(updateAccount(account)),\r\n    deleteAccount: (account) => dispatch(deleteAccount(account))\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Accounts));","export const ADD_EXPENSE = 'ADD_EXPENSE';\r\nexport const UPDATE_EXPENSE = 'UPDATE_EXPENSE';\r\nexport const DELETE_EXPENSE = 'DELETE_EXPENSE';\r\n\r\n\r\nexport const receiveExpense = (expense) => {\r\n    return ({\r\n        type: ADD_EXPENSE,\r\n        expense,\r\n    });\r\n}\r\n\r\nexport const deleteExpense = (expense) => {\r\n    return ({\r\n        type: DELETE_EXPENSE,\r\n        expense,\r\n    });\r\n}\r\n\r\n\r\n\r\nexport const updateExpense = (payload) => {\r\n    return ({\r\n        type: UPDATE_EXPENSE,\r\n        payload,\r\n    });\r\n}\r\n\r\n\r\n\r\n\r\n\r\n","import React from 'react';\r\nimport { FiChevronDown, FiChevronUp, FiPlus } from 'react-icons/fi'\r\nimport StylesCommon from '../common.module.scss';\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\nexport default class createExpense extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            id: uuidv4(),\r\n            amount: 0,\r\n            title: '',\r\n            accountId: Object.values(props.accounts)[0].id,\r\n            categoryId: 'none',\r\n        }\r\n    }\r\n\r\n    update(input) {\r\n        return (e) => {\r\n            this.setState({ [input]: e.currentTarget.value })\r\n        }\r\n    }\r\n\r\n    createExpense(e) {\r\n        const { createExpense } = this.props;\r\n        e.preventDefault();\r\n        const expense = { ...this.state };\r\n        expense.date = Date.now()\r\n        createExpense(expense)\r\n    }\r\n\r\n    printAccountsChoices() {\r\n        const { accounts } = this.props;\r\n        const { id } = this.state;\r\n        return (\r\n            <select className={StylesCommon.selectInput} onChange={this.update('accountId')} defaultValue={Object.values(accounts)[0].id}>\r\n                {Object.values(accounts).map((account) => {\r\n                    return <option key={`option-${account.id}-${id}`} value={account.id}>{account.title}</option>\r\n                })}\r\n            </select>\r\n        )\r\n    }\r\n\r\n\r\n    printCategoriesChoices() {\r\n        const { categories } = this.props;\r\n        const { id } = this.state;\r\n        return (\r\n            <select className={StylesCommon.selectInput} onChange={this.update('categoryId')} defaultValue={Object.values(categories)[0]?.id}>\r\n                {Object.values(categories).map((category) => {\r\n                    return <option key={`option-${category.id}-${id}`} value={category.id}>{category.title}</option>\r\n                })}\r\n            </select>\r\n        )\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const { title, amount } = this.state;\r\n        const { cancel } = this.props;\r\n        return (\r\n            <div className={StylesCommon.addForm}>\r\n                <form onSubmit={(e) => this.createExpense(e)}>\r\n                    <div>\r\n                        <input type=\"number\" placeholder=\"0.00\" onChange={this.update('amount')} value={amount} />\r\n                        <input type=\"text\" placeholder='New expense' onChange={this.update('title')} value={title} required={true} />\r\n                        {this.printAccountsChoices()}\r\n                        {this.printCategoriesChoices()}\r\n\r\n                    </div>\r\n                    <div>\r\n                        <button onClick={cancel}>Cancel</button>\r\n                        <button>Add</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { FiX, FiEdit3, FiCheck, FiTrash } from 'react-icons/fi'\r\nimport { RiBankLine } from 'react-icons/ri'\r\nimport { FaMoneyBillWave } from 'react-icons/fa'\r\nimport { AiFillCreditCard } from \"react-icons/ai\";\r\nimport StylesCommon from '../common.module.scss';\r\nimport Styles from './expenses.module.scss';\r\n\r\nimport currency from 'currency.js';\r\n\r\nexport default class ExpenseItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            edit: false,\r\n            showDelete: false,\r\n            id: props.expense.id,\r\n            amount: props.expense.amount,\r\n            title: props.expense.title,\r\n            accountId: props.expense.accountId,\r\n            categoryId: props.expense.categoryId,\r\n            date: props.expense.date\r\n        }\r\n    }\r\n\r\n    printIcon() {\r\n        const { type } = this.state;\r\n        if (type === 'bankAccount') {\r\n            return (\r\n                <>\r\n                    <RiBankLine /> Bank\r\n                </>\r\n            )\r\n        }\r\n        if (type === 'credit') {\r\n            return (\r\n                <>\r\n                    <AiFillCreditCard /> Credit\r\n                </>\r\n            )\r\n        }\r\n\r\n        if (type === 'cash') {\r\n            return (\r\n                <>\r\n                    <FaMoneyBillWave /> Cash\r\n                </>\r\n            )\r\n        }\r\n    }\r\n\r\n    update(input) {\r\n        return e => {\r\n            this.setState({ [input]: e.currentTarget.value })\r\n        }\r\n    }\r\n\r\n    updateExpense() {\r\n        const { updateExpense, expense } = this.props;\r\n        const newExpense = { ... this.state };\r\n        delete newExpense['edit']\r\n        delete newExpense['showDelete']\r\n        this.setState({ edit: false }, () => {\r\n            updateExpense({oldExpense: expense, newExpense})\r\n        })\r\n    }\r\n\r\n    deleteExpense(){\r\n        const {deleteExpense, expense } = this.props;\r\n        this.setState({showDelete: false}, () => {\r\n            deleteExpense(expense)\r\n        })\r\n    }\r\n\r\n\r\n    openEdit(e) {\r\n        e.stopPropagation();\r\n        this.setState({ edit: true })\r\n    }\r\n\r\n\r\n\r\n    printAccountsChoices() {\r\n        const { accounts, expense } = this.props;\r\n        const { accountId } = this.state;\r\n        return (\r\n            <select className={StylesCommon.selectInput} onChange={this.update('accountId')} defaultValue={accountId}>\r\n                {Object.values(accounts).map(account => {\r\n                    return <option key={`option-account-${account.id}-${expense.id}`} value={account.id}>{account.title}</option>\r\n                })}\r\n            </select>\r\n        )\r\n    }\r\n\r\n    printCategoriesChoices() {\r\n        const { categories, expense } = this.props;\r\n        const { categoryId } = this.state;\r\n        return (\r\n            <select className={StylesCommon.selectInput} onChange={this.update('categoryId')} defaultValue={categoryId}>\r\n                {Object.values(categories).map((category) => {\r\n                    return <option key={`option-${category.id}-${expense.id}`} value={category.id}>{category.title}</option>\r\n                })}\r\n            </select>\r\n        )\r\n    }\r\n\r\n    printDate(time){\r\n        const o_date = new Intl.DateTimeFormat(time)\r\n        const f_date = (m_ca, m_it) => Object({...m_ca, [m_it.type]: m_it.value});\r\n        const m_date = o_date.formatToParts().reduce(f_date, {});\r\n        return `${m_date.day + '-' + m_date.month + '-' + m_date.year}`;\r\n    }\r\n\r\n    printTime(time){\r\n        let hours = new Date(time).getHours();\r\n        let minutes = new Date(time).getMinutes();\r\n        let seconds = new Date(time).getSeconds();\r\n        if(hours < 10){\r\n            hours = `0${hours}`\r\n        }   \r\n\r\n        if(minutes < 10){\r\n            minutes = `0${minutes}`\r\n        }\r\n\r\n        if(seconds < 10){\r\n            seconds = `0${seconds}`\r\n        }\r\n        return `${hours}:${minutes}:${seconds}`\r\n    }\r\n\r\n    printItemOrEdit() {\r\n        const { edit, title, amount, showDelete } = this.state;\r\n        const { expense, history, categories, accounts } = this.props;\r\n\r\n\r\n        if (showDelete) {\r\n            return (\r\n                <div className={`${StylesCommon.singleItem} ${StylesCommon.singleItemDelete}`}>\r\n                    Are you sure?\r\n                    <div>\r\n                        <button onClick={() => this.deleteExpense()}>Yes</button>\r\n                        <button onClick={() => this.setState({showDelete: false})}>No</button>\r\n                    </div>\r\n                </div>\r\n            )\r\n        } else if (edit) {\r\n            return (\r\n                <div className={StylesCommon.singleItem}>\r\n                    <div>\r\n                        $<input type=\"number\" placeholder='0.00' onChange={this.update('amount')} value={amount} required={true}/>\r\n                        <input type=\"text\" placeholder='New expense' onChange={this.update('title')} value={title} required={true} />\r\n                        {this.printAccountsChoices()}\r\n                        {this.printCategoriesChoices()}\r\n                    </div>\r\n                    <div className={StylesCommon.editButtons}>\r\n                        <FiTrash onClick={() => this.setState({ showDelete: true })} />\r\n                        <FiX onClick={() => this.setState({ title: expense.title, color: expense.color, type: expense.type, edit: false })} />\r\n                        <FiCheck onClick={() => this.updateExpense()} />\r\n                    </div>\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div className={StylesCommon.singleItem} onClick={() => history.push(`expenses/${expense.id}`)}>\r\n                    <div className={Styles.rows}>\r\n                        <div className={Styles.time}>{this.printTime(expense.date )}</div>\r\n                        <div className={Styles.title} style={{ color: expense.color }}>{expense.title}</div>\r\n                        <div>{categories[expense.categoryId].title}</div>\r\n                        <div>{accounts[expense.accountId].title}</div>\r\n                        <div>{currency(expense.amount).format()}</div>\r\n                    </div>\r\n                    <div className={StylesCommon.edit}>\r\n                        <FiEdit3 onClick={(e) => this.openEdit(e)} />\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            this.printItemOrEdit()\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { FiChevronDown, FiChevronUp, FiPlus, FiX } from 'react-icons/fi'\r\nimport StylesCommon from '../common.module.scss';\r\n\r\nimport CreateExpense from './create_expense';\r\nimport ExpenseItem from './expense_item';\r\nimport Styles from './expenses.module.scss';\r\n\r\nexport default class Expenses extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            openContainer: false,\r\n            addNew: false,\r\n            sortByAccounts: false,\r\n            sortByCategory: false,\r\n            dateAsc: false,\r\n            titleAsc: false,\r\n            filterAccounts: \"All\",\r\n            filterCategories: \"All\",\r\n        }\r\n\r\n        this.cancel = this.cancel.bind(this);\r\n        this.createExpense = this.createExpense.bind(this);\r\n        this.allMonths = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\r\n    }\r\n\r\n    add(e) {\r\n        e.stopPropagation();\r\n        this.setState({ openContainer: false, addNew: true })\r\n    }\r\n\r\n    cancel(e) {\r\n        e.preventDefault();\r\n        this.setState({ addNew: false })\r\n    }\r\n\r\n    update(input) {\r\n        return e => {\r\n            this.setState({ [input]: e.currentTarget.value })\r\n        }\r\n    }\r\n\r\n    createExpense(expense) {\r\n        const { createExpense } = this.props;\r\n        this.setState({ openContainer: true, addNew: false })\r\n        createExpense(expense);\r\n    }\r\n\r\n\r\n    sortByTitle(array, column, listHelper, asc) {\r\n        array.sort((a, b) => {\r\n            let element1 = listHelper[a[column]].title.toLowerCase()\r\n            let element2 = listHelper[b[column]].title.toLowerCase()\r\n            if (element1 > element2) {\r\n                if (asc) {\r\n                    return 1;\r\n                } else {\r\n                    return -1;\r\n                }\r\n            } else {\r\n                if (asc) {\r\n                    return -1;\r\n                } else {\r\n                    return 1;\r\n                }\r\n            }\r\n        })\r\n        return array;\r\n    }\r\n\r\n    sortByDate(array, asc) {\r\n        array.sort((a, b) => {\r\n            let element1 = new Date(a.date)\r\n            let element2 = new Date(b.date)\r\n            if (element1 > element2) {\r\n                if (asc) {\r\n                    return 1;\r\n                } else {\r\n                    return -1;\r\n                }\r\n            } else {\r\n                if (asc) {\r\n                    return -1;\r\n                } else {\r\n                    return 1;\r\n                }\r\n            }\r\n        })\r\n        console.log(\"T1\", array)\r\n        return array;\r\n    }\r\n\r\n    sortByDateWithTitle(array, column, list, asc) {\r\n        array.sort((a, b) => {\r\n            let adate = new Date(a.date)\r\n            let bdate = new Date(b.date)\r\n            if (list[a[column]].title === list[b[column]].title) {\r\n                if (asc) {\r\n                    console.log('test1')\r\n                    return adate - bdate;\r\n                } else {\r\n                    console.log('test2')\r\n                    return bdate - adate;\r\n                }\r\n            }\r\n        })\r\n        return array;\r\n    }\r\n\r\n\r\n    sort(array) {\r\n        const { sortByAccounts, sortByCategory, dateAsc, titleAsc } = this.state;\r\n        const { categories, accounts } = this.props;\r\n\r\n        if (sortByAccounts) {\r\n            array = this.sortByTitle(array, 'accountId', accounts, titleAsc);\r\n\r\n            return this.sortByDateWithTitle(array, 'accountId', accounts, dateAsc)\r\n        } else if (sortByCategory) {\r\n            array = this.sortByTitle(array, 'categoryId', categories, titleAsc);\r\n            return this.sortByDateWithTitle(array, 'categoryId', categories, dateAsc)\r\n        } else {\r\n            return this.sortByDate(array, dateAsc)\r\n        }\r\n    }\r\n\r\n\r\n    printAllOrEdit() {\r\n        const { addNew, openContainer } = this.state;\r\n        const { accounts, categories } = this.props;\r\n\r\n        if (addNew) {\r\n            return (\r\n                <CreateExpense createExpense={this.createExpense} cancel={this.cancel} accounts={accounts} categories={categories} />\r\n            )\r\n        } else {\r\n            return (\r\n                <div onClick={() => this.setState({ openContainer: !openContainer })}>\r\n                    <div>My expenses</div>\r\n                    <div>\r\n                        <div className={StylesCommon.mainContainerButtons}>\r\n                            <div onClick={(e) => this.add(e)}><FiPlus /></div>\r\n                            <div>{openContainer ? <FiChevronUp /> : <FiChevronDown />}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    printList() {\r\n        const { expenses, deleteExpense, updateExpense, history, accounts, categories } = this.props;\r\n\r\n        if (Object.keys(expenses).length === 0) {\r\n            return (\r\n                <div className={StylesCommon.emptyListItem}>\r\n                    No expenses\r\n                </div>\r\n            )\r\n        } else {\r\n            let prevDate = null;\r\n            return (\r\n                <div className={StylesCommon.mainContainerList}>\r\n                    {this.sort(this.printFiltered(Object.values(expenses))).map((expense, i) => {\r\n\r\n                        if (prevDate !== this.printDate(expense.date)) {\r\n\r\n                            prevDate = this.printDate(expense.date);\r\n                            prevDate = prevDate.split('-');\r\n                            prevDate = `${this.allMonths[prevDate[0] - 1]} ${prevDate[1]}, ${prevDate[2]}`;\r\n                            \r\n\r\n                            return (\r\n                                < >\r\n                                    <div className={Styles.dateRow}><FiChevronDown />{prevDate}<FiChevronDown /></div>\r\n                                    <ExpenseItem key={`expense-${expense.id}`} history={history} accounts={accounts} categories={categories} expense={expense} updateExpense={updateExpense} deleteExpense={deleteExpense} />\r\n                                </>\r\n                            )\r\n                        } else {\r\n                            return <ExpenseItem key={`expense-${expense.id}`} history={history} accounts={accounts} categories={categories} expense={expense} updateExpense={updateExpense} deleteExpense={deleteExpense} />\r\n                        }\r\n                    })}\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    printDate(time) {\r\n        const date = new Date(time)\r\n        const year = date.getFullYear();\r\n        let month = date.getMonth() + 1;\r\n        let day = date.getDate();\r\n\r\n        if (month < 10) {\r\n            month = `0${month}`\r\n        }\r\n        if (day < 10) {\r\n            day = `0${day}`\r\n        }\r\n        return `${month + '-' + day + '-' + year}`;\r\n    }\r\n\r\n    printAccountsChoices() {\r\n        const { accounts } = this.props;\r\n        return (\r\n            <select className={StylesCommon.selectInput} onChange={this.update('filterAccounts')} defaultValue={'All'}>\r\n                <option key={`option-all-filter-accounts`} value={'All'}>All</option>\r\n                {Object.values(accounts).map((account) => {\r\n                    return <option key={`option-${account.id}-filter-accounts`} value={account.id}>{account.title}</option>\r\n                })}\r\n            </select>\r\n        )\r\n    }\r\n\r\n\r\n    printCategoriesChoices() {\r\n        const { categories } = this.props;\r\n        return (\r\n            <select className={StylesCommon.selectInput} onChange={this.update('filterCategories')} defaultValue={'All'}>\r\n                <option key={`option-all-filter-categories`} value={'All'}>All</option>\r\n                {Object.values(categories).map((category) => {\r\n                    return <option key={`option-${category.id}-filter`} value={category.id}>{category.title}</option>\r\n                })}\r\n            </select>\r\n        )\r\n    }\r\n\r\n\r\n    printFiltered(array) {\r\n        const { filterAccounts, filterCategories } = this.state;\r\n\r\n        if (filterAccounts !== 'All') {\r\n            array = array.filter(expense => expense.accountId === filterAccounts)\r\n        }\r\n\r\n        if (filterCategories !== 'All') {\r\n            array = array.filter(expense => expense.categoryId === filterCategories)\r\n        }\r\n        return array;\r\n    }\r\n\r\n    render() {\r\n        const { openContainer, sortByAccounts, sortByCategory, titleAsc, dateAsc } = this.state;\r\n        return (\r\n            <div className={`${StylesCommon.mainContainer} ${openContainer ? StylesCommon.mainContainerOpen : ''}`} >\r\n                {this.printAllOrEdit()}\r\n\r\n                <div className={`${StylesCommon.listHeader} ${Styles.rows}`}>\r\n                    <div onClick={() => this.setState({ dateAsc: !dateAsc })}>Date{dateAsc ? <FiChevronDown /> : <FiChevronUp />}</div>\r\n                    <div>Title</div>\r\n                    <div className={sortByCategory ? Styles.highlightSort : ''} onClick={() => sortByCategory ? this.setState({ sortByAccounts: false, sortByCategory: true, titleAsc: !titleAsc }) : this.setState({ sortByAccounts: false, sortByCategory: true, titleAsc: false })}>Category{sortByCategory && titleAsc ? <FiChevronDown /> : <FiChevronUp />}</div>\r\n                    <div className={sortByAccounts ? Styles.highlightSort : ''} onClick={() => sortByAccounts ? this.setState({ sortByAccounts: true, sortByCategory: false, titleAsc: !titleAsc }) : this.setState({ sortByAccounts: true, sortByCategory: false, titleAsc: false })}>Account{sortByAccounts && titleAsc ? <FiChevronDown /> : <FiChevronUp />}</div>\r\n                    <div >Amount</div>\r\n                    <div>Filter\r\n                        {this.printAccountsChoices()}\r\n                        {this.printCategoriesChoices()}\r\n                    </div>\r\n                    {sortByAccounts || sortByCategory ? <div onClick={() => this.setState({ sortByAccounts: false, sortByCategory: false, titleAsc: false, dateAsc: false })}><FiX /></div> : ''}\r\n                </div>\r\n                <hr />\r\n\r\n                {this.printList()}\r\n            </div>\r\n        )\r\n    }\r\n}","import { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { deleteExpense, receiveExpense, updateExpense } from '../../actions/expenses_actions';\r\n\r\nimport Expenses from './expenses';\r\n\r\nconst mapStateToProps = (state) => ({\r\n    expenses: state.expenses,\r\n    accounts: state.accounts,\r\n    categories: state.categories\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    createExpense: (expense) => dispatch(receiveExpense(expense)),\r\n    updateExpense: (payload) => dispatch(updateExpense(payload)),\r\n    deleteExpense: (expense) => dispatch(deleteExpense(expense))\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Expenses));","import React from 'react';\r\n\r\nimport StylesCommon from '../common.module.scss';\r\nimport { v4 as uuidv4 } from 'uuid'\r\n\r\nexport default class CreateCategory extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            title: '',\r\n            color: '#000000',\r\n            expenses: []\r\n        }\r\n    }\r\n\r\n    update(input) {\r\n        return (e) => {\r\n            this.setState({ [input]: e.currentTarget.value })\r\n        }\r\n    }\r\n\r\n    createCategory(e){\r\n        const { createCategory } = this.props;\r\n        e.preventDefault();\r\n        const newCategory = { ...this.state };\r\n        newCategory.id = uuidv4();\r\n        createCategory(newCategory)\r\n    }\r\n\r\n\r\n\r\n    render() {\r\n        const { title, color } = this.state;\r\n        const { cancel } = this.props;\r\n        return (\r\n            <div className={StylesCommon.addForm}>\r\n                <form onSubmit={(e) => this.createCategory(e)}>\r\n                    <div>\r\n                        <input className={StylesCommon.colorInput} type=\"color\" onChange={this.update('color')} value={color} />  \r\n                        <input type=\"text\" placeholder='New category' onChange={this.update('title')} value={title} />\r\n                    </div>\r\n                    <div>\r\n                        <button onClick={cancel}>Cancel</button>\r\n                        <button>Add</button>\r\n                    </div>\r\n                </form>\r\n            </div>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { FiChevronDown, FiChevronUp, FiX, FiEdit3, FiCheck, FiTrash } from 'react-icons/fi'\r\n\r\nimport StylesCommon from '../common.module.scss';\r\nimport Styles from './categories.module.scss';\r\nexport default class CategoryItem extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        this.state = {\r\n            edit: false,\r\n            showDelete: false,\r\n            title: props.category.title,\r\n            color: props.category.color,\r\n        }\r\n    }\r\n\r\n    // printIcon() {\r\n    //     const { type } = this.state;\r\n    //     if (type === 'bankAccount') {\r\n    //         return (\r\n    //             <>\r\n    //                 <RiBankLine /> Bank\r\n    //             </>\r\n    //         )\r\n    //     }\r\n    //     if (type === 'credit') {\r\n    //         return (\r\n    //             <>\r\n    //                 <AiFillCreditCard /> Credit\r\n    //             </>\r\n    //         )\r\n    //     }\r\n\r\n    //     if (type === 'cash') {\r\n    //         return (\r\n    //             <>\r\n    //                 <FaMoneyBillWave /> Cash\r\n    //             </>\r\n    //         )\r\n    //     }\r\n    // }\r\n\r\n    update(input) {\r\n        return e => {\r\n            this.setState({ [input]: e.currentTarget.value })\r\n        }\r\n    }\r\n\r\n    updateCategory() {\r\n        const state = this.state;\r\n        const { updateCategory} = this.props;\r\n        this.setState({ edit: false }, () => {\r\n            updateCategory(state)\r\n        })\r\n    }\r\n\r\n    deleteCategory(){\r\n        const {category, deleteCategory } = this.props;\r\n        this.setState({showDelete: false}, () => {\r\n            deleteCategory(category)\r\n        })\r\n    }\r\n\r\n\r\n    openEdit(e){\r\n        e.stopPropagation();\r\n        this.setState({ edit: true })\r\n    }\r\n\r\n    printItemOrEdit() {\r\n        const {  edit,  title, color, showDelete } = this.state;\r\n        const { category, history} = this.props;\r\n\r\n\r\n        if (showDelete) {\r\n            return (\r\n                <div className={`${StylesCommon.singleItem} ${StylesCommon.singleItemDelete}`}>\r\n                    Are you sure?\r\n                    <div>\r\n                        <button onClick={() => this.deleteCategory()}>Yes</button>\r\n                        <button onClick={() => this.setState({showDelete: false})}>No</button>\r\n                    </div>\r\n                </div>\r\n            )\r\n        } else if (edit) {\r\n            return (\r\n                <div className={StylesCommon.singleItem}>\r\n                    <div>\r\n\r\n                        <input style={{ color: color }} value={title} className={Styles.titleInput} onChange={this.update('title')} />\r\n\r\n                        <input className={Styles.colorInput} type=\"color\" onChange={this.update('color')} value={color} />\r\n                    </div>\r\n                    <div className={StylesCommon.editButtons}>\r\n                        {category.id !== 'none' ? <FiTrash onClick={() => this.setState({showDelete: true})}/> : ''}\r\n                        <FiX onClick={() => this.setState({ title: category.title, color: category.color, edit: false })} />\r\n                        <FiCheck onClick={() => this.updateCategory()} />\r\n                    </div>\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div className={StylesCommon.singleItem} onClick={() => history.push(`categories/${category.id}`)}>\r\n                    <div>\r\n                        <div className={Styles.title} style={{ color: category.color }}>{category.title}</div>\r\n                    </div>\r\n                    <div className={StylesCommon.edit}>\r\n                        <FiEdit3 onClick={(e) => this.openEdit(e)} />\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        return (\r\n            this.printItemOrEdit()\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { FiChevronDown, FiChevronUp, FiPlus } from 'react-icons/fi'\r\nimport StylesCommon from '../common.module.scss';\r\nimport CreateCategory from './create_category';\r\nimport CategoryItem from './category_item';\r\nimport Styles from './categories.module.scss'\r\n\r\n\r\n\r\nexport default class Categories extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            openContainer: false,\r\n            addNew: false,\r\n            asc: true\r\n        }\r\n\r\n        this.cancel = this.cancel.bind(this);\r\n        this.createCategory = this.createCategory.bind(this);\r\n    }\r\n\r\n    add(e) {\r\n        e.stopPropagation();\r\n        this.setState({ openContainer: false, addNew: true })\r\n    }\r\n\r\n    cancel(e) {\r\n        e.preventDefault();\r\n        this.setState({ addNew: false })\r\n    }\r\n\r\n\r\n    createCategory(category) {\r\n        const { createCategory } = this.props;\r\n        this.setState({ openContainer: true, addNew: false })\r\n        createCategory(category);\r\n    }\r\n\r\n    sortByTitle(array, asc) {\r\n        array.sort((a, b) => {\r\n            let element1 = a.title.toLowerCase();\r\n            let element2 = b.title.toLowerCase();\r\n            if (element1 > element2) {\r\n                if (asc) {\r\n                    return 1;\r\n                } else {\r\n                    return -1;\r\n                }\r\n            } else {\r\n                if (asc) {\r\n                    return -1;\r\n                } else {\r\n                    return 1;\r\n                }\r\n            }\r\n        })\r\n        return array;\r\n    }\r\n\r\n\r\n\r\n    printAllOrEdit() {\r\n        const { addNew, openContainer } = this.state;\r\n\r\n        if (addNew) {\r\n            return (\r\n                <CreateCategory createCategory={this.createCategory} cancel={this.cancel} />\r\n            )\r\n        } else {\r\n            return (\r\n                <div onClick={() => this.setState({ openContainer: !openContainer })}>\r\n                    <div>My Categories</div>\r\n                    <div>\r\n                        <div className={StylesCommon.mainContainerButtons}>\r\n                            <div onClick={(e) => this.add(e)}><FiPlus /></div>\r\n                            <div>{openContainer ? <FiChevronUp /> : <FiChevronDown />}</div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    printList() {\r\n        const { categories, deleteCategory, updateCategory, history } = this.props;\r\n        const { asc } = this.state;\r\n\r\n        if (Object.values(categories).length === 0) {\r\n            return (\r\n                <div className={StylesCommon.emptyListItem}>\r\n                    No Categories\r\n                </div>\r\n            )\r\n        } else {\r\n            return (\r\n                <div className={StylesCommon.mainContainerList}>\r\n                    {this.sortByTitle(Object.values(categories), asc).map((category) => (\r\n                        <CategoryItem key={`category-${category.id}`} history={history} category={category} updateCategory={updateCategory} deleteCategory={deleteCategory} />\r\n                    ))}\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    render() {\r\n        const { openContainer, asc } = this.state;\r\n        return (\r\n            <div className={`${StylesCommon.mainContainer} ${openContainer ? StylesCommon.mainContainerOpen : ''}`} >\r\n                {this.printAllOrEdit()}\r\n\r\n                <div className={StylesCommon.listHeader}>\r\n                    <div className={Styles.title} onClick={() => this.setState({ asc: !asc })}>Title{asc ? <FiChevronDown /> : <FiChevronUp />}</div>\r\n                </div>\r\n                <hr />\r\n\r\n                {this.printList()}\r\n            </div>\r\n        )\r\n    }\r\n}","import { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { deleteCategory, receiveCategory, updateCategory } from '../../actions/categories_actions';\r\nimport Categories from './categories'\r\n\r\nconst mapStateToProps = (state) => ({\r\n    categories: state.categories\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    createCategory: (category) => dispatch(receiveCategory(category)),\r\n    updateCategory: (category) => dispatch(updateCategory(category)),\r\n    deleteCategory: (category) => dispatch(deleteCategory(category))\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Categories));","export const ADD_CATEGORY = 'ADD_CATEGORY';\r\nexport const UPDATE_CATEGORY = 'UPDATE_CATEGORY';\r\nexport const DELETE_CATEGORY = 'DELETE_CATEGORY';\r\n\r\n\r\nexport const receiveCategory = (category) => {\r\n    return ({\r\n        type: ADD_CATEGORY,\r\n        category,\r\n      });\r\n}\r\n\r\n\r\nexport const updateCategory = (category) => {\r\n \r\n    return ({\r\n        type: UPDATE_CATEGORY,\r\n        category,\r\n      });\r\n}\r\n\r\n\r\nexport const deleteCategory = (category) => {\r\n \r\n    return ({\r\n        type: DELETE_CATEGORY,\r\n        category,\r\n      });\r\n}\r\n\r\n\r\n","import React from 'react';\r\nimport Accounts from './accounts/accounts_container';\r\nimport Expenses from './expenses/expenses_container';\r\nimport Categories from './categories/categories_container';\r\nexport default () => (\r\n    <>\r\n        <div className='dashboard'>Dashboard</div>\r\n        <Accounts />\r\n        <Expenses />\r\n        <Categories />\r\n    </>\r\n)","import React from 'react';\r\nimport StylesCommon from '../common.module.scss';\r\nimport { RiBankLine } from 'react-icons/ri'\r\nimport { FaMoneyBillWave } from 'react-icons/fa'\r\nimport { AiFillCreditCard } from \"react-icons/ai\";\r\nimport Styles from './account_page.module.scss'\r\nimport Accounts from '../accounts/accounts'\r\nimport currency from 'currency.js';\r\n\r\n\r\nexport default class AccountsPage extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n\r\n        if (props.account) {\r\n            this.state = props.account;\r\n        }\r\n    }\r\n\r\n    printIcon() {\r\n        const { type } = this.state;\r\n        if (type === 'bankAccount') {\r\n            return (\r\n                <>\r\n                    <RiBankLine /> Bank\r\n                </>\r\n            )\r\n        }\r\n        if (type === 'credit') {\r\n            return (\r\n                <>\r\n                    <AiFillCreditCard /> Credit\r\n                </>\r\n            )\r\n        }\r\n\r\n        if (type === 'cash') {\r\n            return (\r\n                <>\r\n                    <FaMoneyBillWave /> Cash\r\n                </>\r\n            )\r\n        }\r\n    }\r\n\r\n    printExpenses() {\r\n        const { account, expenses, categories } = this.props;\r\n        return (\r\n            <div className={Styles.rows}>\r\n                <div>\r\n                    <div>Amount</div>\r\n                    <div>Title</div>\r\n                    <div>Category</div>\r\n                </div>\r\n                {account.expenses.map(expenseId => (\r\n                    <div>\r\n                        <div>{currency(expenses[expenseId].amount).format()}</div>\r\n                        <div>{expenses[expenseId].title}</div>\r\n                        <div>{categories[expenses[expenseId].categoryId].title}</div>\r\n                    </div>\r\n                ))}\r\n            </div>\r\n        )\r\n    }\r\n\r\n\r\n    render() {\r\n        const { account } = this.props;\r\n        return (\r\n            <div>\r\n                <div className={Styles.infoPart}>\r\n                    <div className={Styles.accountTitle}>\r\n                        Account:\r\n                        <div>{account.title}</div>\r\n                    </div>\r\n\r\n\r\n                    <div>\r\n                        {this.printIcon()}\r\n                    </div>\r\n                </div>\r\n\r\n\r\n                <hr />\r\n\r\n                {this.printExpenses()}\r\n            </div>\r\n        )\r\n    }\r\n}","import { connect } from 'react-redux';\r\nimport { deleteAccount, receiveAccount, updateAccount } from '../../actions/accounts_actions';\r\nimport AccountPage from './account_page'\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n    account: state.accounts[ownProps.match.params.account],\r\n    expenses: state.expenses,\r\n    categories: state.categories\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    createAccount: (account) => dispatch(receiveAccount(account)),\r\n    updateAccount: (payload) => dispatch(updateAccount(payload)),\r\n    deleteAccount: (index) => dispatch(deleteAccount(index))\r\n});\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(AccountPage);","import React from 'react';\r\nimport { FiChevronDown, FiChevronUp, FiPlus, FiX } from 'react-icons/fi'\r\nimport StylesCommon from '../common.module.scss';\r\n\r\nimport CreateExpense from '../expenses/create_expense';\r\nimport ExpenseItem from '../expenses/expense_item';\r\nimport Styles from '../expenses/expenses.module.scss';\r\nimport currency from 'currency.js'\r\nexport default class Reports extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n\r\n            addNew: false,\r\n            sortByAccounts: false,\r\n            sortByCategory: false,\r\n            dateAsc: false,\r\n            titleAsc: false,\r\n            filterAccounts: \"All\",\r\n            filterCategories: \"All\",\r\n            all: true,\r\n            daily: false,\r\n            weekly: false,\r\n            monthly: false,\r\n            custom: false,\r\n            start: '',\r\n            end: '',\r\n        }\r\n\r\n        this.cancel = this.cancel.bind(this);\r\n        this.createExpense = this.createExpense.bind(this);\r\n        this.allMonths = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec']\r\n    }\r\n\r\n    componentDidUpdate(prevProps, prevState) {\r\n        if (this.state.daily !== prevState.daily || this.state.weekly !== prevState.weekly || this.state.monthly !== prevState.monthly) {\r\n            const { daily, weekly, monthly, start } = this.state;\r\n            let date = new Date(`${start} 00:00:00`);\r\n            if (daily) {\r\n                this.addTime('daily', date, this.printDate(date.getTime()))\r\n            }\r\n            if (weekly) {\r\n                this.addTime('weekly', date, this.printDate(date.getTime()))\r\n            }\r\n            if (monthly) {\r\n                this.addTime('monthly', date, this.printDate(date.getTime()))\r\n            }\r\n        }\r\n    }\r\n\r\n    add(e) {\r\n        e.stopPropagation();\r\n        this.setState({ addNew: true })\r\n    }\r\n\r\n    cancel(e) {\r\n        e.preventDefault();\r\n        this.setState({ addNew: false })\r\n    }\r\n\r\n    update(input) {\r\n        return e => {\r\n            this.setState({ [input]: e.currentTarget.value })\r\n        }\r\n    }\r\n\r\n    createExpense(expense) {\r\n        const { createExpense } = this.props;\r\n        this.setState({ addNew: false })\r\n        createExpense(expense);\r\n    }\r\n\r\n\r\n    sortByTitle(array, column, listHelper, asc) {\r\n        array.sort((a, b) => {\r\n            let element1 = listHelper[a[column]].title.toLowerCase()\r\n            let element2 = listHelper[b[column]].title.toLowerCase()\r\n            if (element1 > element2) {\r\n                if (asc) {\r\n                    return 1;\r\n                } else {\r\n                    return -1;\r\n                }\r\n            } else {\r\n                if (asc) {\r\n                    return -1;\r\n                } else {\r\n                    return 1;\r\n                }\r\n            }\r\n        })\r\n        return array;\r\n    }\r\n\r\n    sortByDate(array, asc) {\r\n        array.sort((a, b) => {\r\n            let element1 = new Date(a.date)\r\n            let element2 = new Date(b.date)\r\n            if (element1 > element2) {\r\n                if (asc) {\r\n                    return 1;\r\n                } else {\r\n                    return -1;\r\n                }\r\n            } else {\r\n                if (asc) {\r\n                    return -1;\r\n                } else {\r\n                    return 1;\r\n                }\r\n            }\r\n        })\r\n        console.log(\"T1\", array)\r\n        return array;\r\n    }\r\n\r\n    sortByDateWithTitle(array, column, list, asc) {\r\n        array.sort((a, b) => {\r\n            let adate = new Date(a.date)\r\n            let bdate = new Date(b.date)\r\n            if (list[a[column]].title === list[b[column]].title) {\r\n                if (asc) {\r\n                    console.log('test1')\r\n                    return adate - bdate;\r\n                } else {\r\n                    console.log('test2')\r\n                    return bdate - adate;\r\n                }\r\n            }\r\n        })\r\n        return array;\r\n    }\r\n\r\n\r\n    sort(array) {\r\n        const { sortByAccounts, sortByCategory, dateAsc, titleAsc } = this.state;\r\n        const { categories, accounts } = this.props;\r\n\r\n        if (sortByAccounts) {\r\n            array = this.sortByTitle(array, 'accountId', accounts, titleAsc);\r\n\r\n            return this.sortByDateWithTitle(array, 'accountId', accounts, dateAsc)\r\n        } else if (sortByCategory) {\r\n            array = this.sortByTitle(array, 'categoryId', categories, titleAsc);\r\n            return this.sortByDateWithTitle(array, 'categoryId', categories, dateAsc)\r\n        } else {\r\n            return this.sortByDate(array, dateAsc)\r\n        }\r\n    }\r\n\r\n    calculateTotal() {\r\n        const { expenses } = this.props;\r\n        let total = 0\r\n        this.sort(this.printFiltered(this.filterReports(Object.values(expenses)))).forEach(expense => total += parseFloat(expense.amount));\r\n        return total;\r\n    }\r\n\r\n\r\n    printAllOrEdit() {\r\n        const { addNew, } = this.state;\r\n        const { accounts, categories } = this.props;\r\n\r\n        if (addNew) {\r\n            return (\r\n                <CreateExpense createExpense={this.createExpense} cancel={this.cancel} accounts={accounts} categories={categories} />\r\n            )\r\n        } else {\r\n            return (\r\n                <div>\r\n                    <div>My expenses</div>\r\n                    <div>Total: {currency(this.calculateTotal()).format()}</div>\r\n                    <div>\r\n                        <div className={StylesCommon.mainContainerButtons}>\r\n                            <div onClick={(e) => this.add(e)}><FiPlus /></div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    printList() {\r\n        const { expenses, deleteExpense, updateExpense, history, accounts, categories } = this.props;\r\n\r\n        if (Object.keys(expenses).length === 0) {\r\n            return (\r\n                <div className={StylesCommon.emptyListItem}>\r\n                    No expenses\r\n                </div>\r\n            )\r\n        } else {\r\n            let prevDate = null;\r\n            return (\r\n                <div className={`${StylesCommon.mainContainerList} ${Styles.reportList}`}>\r\n                    {this.sort(this.printFiltered(this.filterReports(Object.values(expenses)))).map((expense, i) => {\r\n\r\n                        if (prevDate !== this.printDate(expense.date)) {\r\n\r\n                            prevDate = this.printDate(expense.date);\r\n                            prevDate = prevDate.split('-');\r\n                            prevDate = `${this.allMonths[prevDate[0] - 1]} ${prevDate[1]}, ${prevDate[2]}`;\r\n                            return (\r\n                                < >\r\n                                    <div className={Styles.dateRow}><FiChevronDown />{prevDate}<FiChevronDown /></div>\r\n                                    <ExpenseItem key={`expense-${expense.id}`} history={history} accounts={accounts} categories={categories} expense={expense} updateExpense={updateExpense} deleteExpense={deleteExpense} />\r\n                                </>\r\n                            )\r\n                        } else {\r\n                            return <ExpenseItem key={`expense-${expense.id}`} history={history} accounts={accounts} categories={categories} expense={expense} updateExpense={updateExpense} deleteExpense={deleteExpense} />\r\n                        }\r\n                    })}\r\n                </div>\r\n            )\r\n        }\r\n    }\r\n\r\n    printDate(time) {\r\n        const date = new Date(time)\r\n        const year = date.getFullYear();\r\n        let month = date.getMonth() + 1;\r\n        let day = date.getDate();\r\n\r\n        if (month < 10) {\r\n            month = `0${month}`\r\n        }\r\n        if (day < 10) {\r\n            day = `0${day}`\r\n        }\r\n        return `${month + '-' + day + '-' + year}`;\r\n    }\r\n\r\n    printAccountsChoices() {\r\n        const { accounts } = this.props;\r\n        return (\r\n            <select className={StylesCommon.selectInput} onChange={this.update('filterAccounts')} defaultValue={'All'}>\r\n                <option key={`option-all-filter-accounts`} value={'All'}>All</option>\r\n                {Object.values(accounts).map((account) => {\r\n                    return <option key={`option-${account.id}-filter-accounts`} value={account.id}>{account.title}</option>\r\n                })}\r\n            </select>\r\n        )\r\n    }\r\n\r\n\r\n    printCategoriesChoices() {\r\n        const { categories } = this.props;\r\n        return (\r\n            <select className={StylesCommon.selectInput} onChange={this.update('filterCategories')} defaultValue={'All'}>\r\n                <option key={`option-all-filter-categories`} value={'All'}>All</option>\r\n                {Object.values(categories).map((category) => {\r\n                    return <option key={`option-${category.id}-filter`} value={category.id}>{category.title}</option>\r\n                })}\r\n            </select>\r\n        )\r\n    }\r\n\r\n\r\n    printFiltered(array) {\r\n        const { filterAccounts, filterCategories } = this.state;\r\n\r\n        if (filterAccounts !== 'All') {\r\n            array = array.filter(expense => expense.accountId === filterAccounts)\r\n        }\r\n\r\n        if (filterCategories !== 'All') {\r\n            array = array.filter(expense => expense.categoryId === filterCategories)\r\n        }\r\n        return array;\r\n    }\r\n\r\n    setTime(start, end) {\r\n        if (start) {\r\n            return `${start.getFullYear()}-${start.getMonth() + 1 < 10 ? `${0}${start.getMonth() + 1}` : start.getMonth() + 1}-${start.getDate() < 10 ? `${0}${start.getDate()}` : start.getDate()}`\r\n\r\n        } else if (end) {\r\n            return `${end.getFullYear()}-${end.getMonth() + 1 < 10 ? `${0}${end.getMonth() + 1}` : end.getMonth() + 1}-${end.getDate() < 10 ? `${0}${end.getDate()}` : end.getDate()}`\r\n        }\r\n    }\r\n\r\n    addTime(input, start, e) {\r\n        let end;\r\n        if (input === 'daily') {\r\n            end = new Date(start.getTime() + 86400 * 1000);\r\n        }\r\n        if (input === 'weekly') {\r\n            end = new Date(start.getTime() + 86400 * 7 * 1000);\r\n        }\r\n        if (input === 'monthly') {\r\n            end = new Date(new Date(`${e} 00:00:00`).setMonth(start.getMonth() + 1))\r\n        }\r\n        this.setState({ end: this.setTime(null, end) })\r\n    }\r\n\r\n    subtractTime(input, end, e) {\r\n        let start;\r\n        if (input === 'daily') {\r\n            start = new Date(end.getTime() - 86400 * 1000);\r\n        }\r\n        if (input === 'weekly') {\r\n            start = new Date(end.getTime() - 86400 * 7 * 1000);\r\n        }\r\n        if (input === 'monthly') {\r\n            start = new Date(new Date(`${e} 00:00:00`).setMonth(end.getMonth() - 1))\r\n        }\r\n        this.setState({ start: this.setTime(start, null) })\r\n    }\r\n\r\n    changeStart(e) {\r\n        let time = e.currentTarget.value;\r\n        const { daily, monthly, weekly, custom } = this.state;\r\n        let start = new Date(`${e.currentTarget.value} 00:00:00`);\r\n\r\n        if (daily) {\r\n            this.setState({ start: this.setTime(start, null) }, () => {\r\n                this.addTime('daily', start, time)\r\n            })\r\n        }\r\n\r\n        if (weekly) {\r\n            this.setState({ start: this.setTime(start, null) }, () => {\r\n                this.addTime('weekly', start, time)\r\n            })\r\n        }\r\n\r\n        if (monthly) {\r\n            this.setState({ start: this.setTime(start, null) }, () => {\r\n                this.addTime('monthly', start, time)\r\n            })\r\n        }\r\n\r\n        if (custom) {\r\n            this.setState({ start: this.setTime(start, null) })\r\n        }\r\n\r\n    }\r\n\r\n    changeEnd(e) {\r\n\r\n        const { daily, monthly, weekly, custom } = this.state;\r\n        let end = new Date(`${e.currentTarget.value} 00:00:00`);\r\n        let time = e.currentTarget.value;\r\n        if (daily) {\r\n            this.setState({ end: this.setTime(null, end) }, () => {\r\n                this.subtractTime('daily', end, time)\r\n            })\r\n        }\r\n\r\n        if (weekly) {\r\n            this.setState({ end: this.setTime(null, end) }, () => {\r\n                this.subtractTime('weekly', end, time)\r\n            })\r\n        }\r\n\r\n        if (monthly) {\r\n            this.setState({ end: this.setTime(null, end) }, () => {\r\n                this.subtractTime('monthly', end, time)\r\n            })\r\n        }\r\n\r\n        if (custom) {\r\n            this.setState({ end: this.setTime(null, end) })\r\n        }\r\n\r\n    }\r\n\r\n    filterReports(array) {\r\n        let { start, end, all } = this.state;\r\n\r\n        if (all) {\r\n            return array\r\n        } else {\r\n            start = new Date(`${start} 00:00:00`).getTime();\r\n            end = new Date(`${end} 00:00:00`).getTime()\r\n            return array.filter(expense => expense.date >= start && expense.date <= end);\r\n        }\r\n    }\r\n\r\n\r\n    render() {\r\n        console.log(this.state)\r\n        const { sortByAccounts, sortByCategory, titleAsc, dateAsc, daily, monthly, weekly, custom, start, end, all } = this.state;\r\n        return (\r\n            <div className={`${Styles.reportNewExpense} ${Styles.reports}`} >\r\n                <div className={Styles.reportsChoices}>\r\n                    <div>\r\n                        <div className={all ? Styles.reportsActive : ''} onClick={() => this.setState({ daily: false, weekly: false, monthly: false, custom: false, all: true })}>All</div>\r\n                        <div className={daily ? Styles.reportsActive : ''} onClick={() => this.setState({ daily: true, weekly: false, monthly: false, custom: false, all: false })}>Daily</div>\r\n                        <div className={weekly ? Styles.reportsActive : ''} onClick={() => this.setState({ daily: false, weekly: true, monthly: false, custom: false, all: false })}>Weekly</div>\r\n                        <div className={monthly ? Styles.reportsActive : ''} onClick={() => this.setState({ daily: false, weekly: false, monthly: true, custom: false, all: false })}>Monthly</div>\r\n                        <div className={custom ? Styles.reportsActive : ''} onClick={() => this.setState({ daily: false, weekly: false, monthly: false, custom: true, all: false })}>Custom</div>\r\n                    </div>\r\n\r\n                    {!all ? <div>\r\n                        <div>Start: <input type=\"date\" onChange={(e) => this.changeStart(e)} value={start} /></div>\r\n                        <div>End: <input type=\"date\" onChange={(e) => this.changeEnd(e)} value={end} /></div>\r\n                    </div> : ''}\r\n                </div>\r\n\r\n                {this.printAllOrEdit()}\r\n\r\n\r\n                <div className={`${StylesCommon.listHeader} ${Styles.rows}`}>\r\n                    <div onClick={() => this.setState({ dateAsc: !dateAsc })}>Date{dateAsc ? <FiChevronDown /> : <FiChevronUp />}</div>\r\n                    <div>Title</div>\r\n                    <div className={sortByCategory ? Styles.highlightSort : ''} onClick={() => sortByCategory ? this.setState({ sortByAccounts: false, sortByCategory: true, titleAsc: !titleAsc }) : this.setState({ sortByAccounts: false, sortByCategory: true, titleAsc: false })}>Category{sortByCategory && titleAsc ? <FiChevronDown /> : <FiChevronUp />}</div>\r\n                    <div className={sortByAccounts ? Styles.highlightSort : ''} onClick={() => sortByAccounts ? this.setState({ sortByAccounts: true, sortByCategory: false, titleAsc: !titleAsc }) : this.setState({ sortByAccounts: true, sortByCategory: false, titleAsc: false })}>Account{sortByAccounts && titleAsc ? <FiChevronDown /> : <FiChevronUp />}</div>\r\n                    <div >Amount</div>\r\n                    <div>Filter\r\n                        {this.printAccountsChoices()}\r\n                        {this.printCategoriesChoices()}\r\n                    </div>\r\n                    {sortByAccounts || sortByCategory ? <div onClick={() => this.setState({ sortByAccounts: false, sortByCategory: false, titleAsc: false, dateAsc: false })}><FiX /></div> : ''}\r\n                </div>\r\n                <hr />\r\n\r\n                {this.printList()}\r\n            </div>\r\n        )\r\n    }\r\n}","import { connect } from 'react-redux';\r\nimport { withRouter } from 'react-router-dom';\r\nimport { deleteExpense, receiveExpense, updateExpense } from '../../actions/expenses_actions';\r\n\r\nimport Reports from './reports'\r\n\r\nconst mapStateToProps = (state) => ({\r\n    expenses: state.expenses,\r\n    accounts: state.accounts,\r\n    categories: state.categories\r\n});\r\n\r\nconst mapDispatchToProps = (dispatch) => ({\r\n    createExpense: (expense) => dispatch(receiveExpense(expense)),\r\n    updateExpense: (payload) => dispatch(updateExpense(payload)),\r\n    deleteExpense: (expense) => dispatch(deleteExpense(expense))\r\n});\r\n\r\nexport default withRouter(connect(mapStateToProps, mapDispatchToProps)(Reports));","import React from 'react';\r\nimport { Switch, Route } from 'react-router-dom';\r\nimport Main from './main';\r\nimport Styles from './app.module.scss';\r\nimport AccountPage from './account_page/account_page_container';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport Reports from './reports/reports_container';\r\n\r\nfunction App() {\r\n\r\n  const history = useHistory();\r\n  return (\r\n    <div className={Styles.app}>\r\n      <Switch>\r\n        <Route exact path='/' component={Main}/>\r\n        <Route exact path='/reports' component={Reports}/>\r\n        <Route exact path='/accounts/:account' component={AccountPage} history={history}/>\r\n      </Switch>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;","import React from 'react';\r\nimport Styles from './header.module.scss';\r\n\r\nexport default class Header extends React.Component{\r\n    constructor(props){\r\n        super(props);\r\n\r\n\r\n    }\r\n\r\n    render(){\r\n        const { state } = this.props;\r\n        return(\r\n            <header>\r\n                <div className={Styles.header}>\r\n                    <div>\r\n                        <a href=\"/\">Main Dashboard</a>\r\n                        <a href=\"/reports\">Reports</a>\r\n                    </div>\r\n\r\n                    <div>\r\n                        Hello, {state.user.username}!\r\n                    </div>\r\n                </div>\r\n            </header>\r\n        )\r\n    }\r\n}","import React from 'react';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport App from './app';\r\nimport Header from './header';\r\n\r\nconst Root = ({ store }) => (\r\n  <Provider store={store}>\r\n    <BrowserRouter>\r\n      <Header state={store.getState()}/>\r\n      <App/>\r\n    </BrowserRouter>\r\n  </Provider>\r\n);\r\n\r\nexport default Root;","export default (input, change) => {\r\n    const oldStorage = JSON.parse(localStorage.userInfo);\r\n    oldStorage[input] = change;\r\n    localStorage.userInfo = JSON.stringify(oldStorage)\r\n}","export function deleteFromExpensesDelete(action, nextState, id){\r\n    for (let i = 0; i < nextState[action.expense[id]].expenses.length; i++) {\r\n        if(action.expense.id === nextState[action.expense[id]].expenses[i]){\r\n            nextState[action.expense[id]].expenses.splice(i, 1);\r\n            break;\r\n        }\r\n    }\r\n    return nextState;\r\n}\r\n\r\n\r\nexport function deleteFromExpensesUpdate(action, nextState, id){\r\n    for (let i = 0; i < nextState[action.payload.oldExpense[id]].expenses.length; i++) {\r\n        if(action.payload.oldExpense.id === nextState[action.payload.oldExpense[id]].expenses[i]){\r\n            nextState[action.payload.oldExpense[id]].expenses.splice(i, 1);\r\n            break;\r\n        }\r\n    }\r\n    return nextState;\r\n}","import { ADD_ACCOUNT, UPDATE_ACCOUNT, DELETE_ACCOUNT } from '../actions/accounts_actions';\r\nimport { ADD_EXPENSE, DELETE_EXPENSE, UPDATE_EXPENSE } from '../actions/expenses_actions';\r\nimport updateLocalStorage from './updateLocalStorage'\r\nimport { deleteFromExpensesDelete, deleteFromExpensesUpdate } from './helpers'\r\nexport default (state = {}, action) => {\r\n    Object.freeze(state);\r\n    let nextState = { ...state }\r\n    \r\n    switch (action.type) {\r\n        case ADD_ACCOUNT:\r\n            nextState[action.account.id] = action.account;\r\n            updateLocalStorage('accounts', nextState);\r\n            return nextState;\r\n        case UPDATE_ACCOUNT:\r\n            nextState[action.account.id] = action.account;\r\n            updateLocalStorage('accounts', nextState);\r\n            return nextState;\r\n        case DELETE_ACCOUNT:\r\n            delete nextState[action.account.id];\r\n            updateLocalStorage('accounts', nextState);\r\n            return nextState;\r\n        \r\n        \r\n        \r\n        case ADD_EXPENSE:\r\n            nextState[action.expense.accountId].expenses.push(action.expense.id)\r\n            updateLocalStorage('accounts', nextState);\r\n            return nextState;\r\n        case DELETE_EXPENSE:\r\n            nextState = deleteFromExpensesDelete(action,nextState, 'accountId');\r\n            updateLocalStorage('accounts', nextState);\r\n            return nextState;\r\n        case UPDATE_EXPENSE:\r\n            if(action.payload.newExpense.accountId === action.payload.oldExpense.accountId){\r\n                return nextState;\r\n            }else{\r\n                nextState = deleteFromExpensesUpdate(action,nextState, 'accountId');\r\n                nextState[action.payload.newExpense.accountId].expenses.push(action.payload.newExpense.id);\r\n                updateLocalStorage('accounts', nextState);\r\n                return nextState;\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n};","import { combineReducers } from 'redux';\r\nimport accountsReducer from './accounts_reducer';\r\nimport expensesReducer from './expenses_reducer';\r\nimport categoriesReducer from './categories_reducer';\r\nimport userReducer from './user_reducer.js';\r\nconst rootReducer = combineReducers({\r\n    user: userReducer,\r\n    accounts: accountsReducer,\r\n    categories: categoriesReducer,\r\n    expenses: expensesReducer,\r\n});\r\n\r\nexport default rootReducer;","export default (state = {}, action) => {\r\n    Object.freeze(state);\r\n    let nextState = { ...state }\r\n    switch (action.type) {\r\n        // case RECEIVE_PIECES:\r\n        //     return action.pieces;\r\n        default:\r\n            return state;\r\n    }\r\n};","import { ADD_CATEGORY, UPDATE_CATEGORY, DELETE_CATEGORY } from '../actions/categories_actions';\r\nimport { ADD_EXPENSE, DELETE_EXPENSE, UPDATE_EXPENSE } from '../actions/expenses_actions';\r\nimport updateLocalStorage from './updateLocalStorage';\r\nimport { deleteFromExpensesDelete, deleteFromExpensesUpdate } from './helpers'\r\nimport { DELETE_ACCOUNT } from '../actions/accounts_actions';\r\n\r\nexport default (state = {}, action) => {\r\n    Object.freeze(state);\r\n    let nextState = { ...state }\r\n    \r\n\r\n    switch (action.type) {\r\n        case ADD_CATEGORY:\r\n            nextState[action.category.id] = action.category;\r\n            updateLocalStorage('categories', nextState);\r\n            return nextState;\r\n        case UPDATE_CATEGORY:\r\n            nextState[action.category.id] = action.category;\r\n            updateLocalStorage('categories', nextState);\r\n            return nextState;\r\n        case DELETE_CATEGORY:\r\n            delete nextState[action.category.id];\r\n            updateLocalStorage('categories', nextState);\r\n            return nextState;\r\n        \r\n        \r\n        \r\n        case ADD_EXPENSE:\r\n            if(action.expense.categoryId){\r\n                nextState[action.expense.categoryId].expenses.push(action.expense.id)\r\n                updateLocalStorage('categories', nextState);\r\n            }\r\n            \r\n            return nextState;\r\n        case DELETE_EXPENSE:\r\n            nextState = deleteFromExpensesDelete(action, nextState, 'categoryId');\r\n            updateLocalStorage('categories', nextState);\r\n            return nextState;\r\n        case UPDATE_EXPENSE:\r\n            if(action.payload.newExpense.categoryId === action.payload.oldExpense.categoryId){\r\n                return nextState;\r\n            }else{\r\n                nextState = deleteFromExpensesUpdate(action, nextState, 'categoryId');\r\n                nextState[action.payload.newExpense.categoryId].expenses.push(action.payload.newExpense.id);\r\n                updateLocalStorage('categories', nextState);\r\n                return nextState;\r\n            }\r\n\r\n        case DELETE_ACCOUNT:\r\n            Object.values(nextState).forEach(category => {    \r\n                category.expenses = category.expenses.filter(id => {\r\n                    if(!action.account.expenses.includes(id)) return id;\r\n                })\r\n            })\r\n            updateLocalStorage('expenses', nextState);\r\n            return nextState;\r\n\r\n        default:\r\n            return state;\r\n    }\r\n};","import { DELETE_ACCOUNT } from '../actions/accounts_actions';\r\nimport { DELETE_CATEGORY } from '../actions/categories_actions';\r\nimport { ADD_EXPENSE, UPDATE_EXPENSE, DELETE_EXPENSE } from '../actions/expenses_actions';\r\nimport updateLocalStorage from './updateLocalStorage'\r\nexport default (state = {}, action) => {\r\n    Object.freeze(state);\r\n    let nextState = { ...state }\r\n    switch (action.type) {\r\n        case ADD_EXPENSE:\r\n            nextState[action.expense.id] = action.expense;\r\n            updateLocalStorage('expenses', nextState);\r\n            return nextState;\r\n        case UPDATE_EXPENSE:\r\n            nextState[action.payload.oldExpense.id] = action.payload.newExpense;\r\n            updateLocalStorage('expenses', nextState);\r\n            return nextState;\r\n        case DELETE_EXPENSE:\r\n            delete nextState[action.expense.id];\r\n            updateLocalStorage('expenses', nextState);\r\n            return nextState;\r\n\r\n        case DELETE_ACCOUNT:\r\n            action.account.expenses.forEach(expenseId => {\r\n                delete nextState[expenseId];\r\n            })\r\n            updateLocalStorage('expenses', nextState);\r\n            return nextState;\r\n        case DELETE_CATEGORY:\r\n            Object.values(nextState).forEach(expense => {\r\n                expense.categoryId = 'none';\r\n            })\r\n            updateLocalStorage('expenses', nextState);\r\n            return nextState;\r\n        default:\r\n            return state;\r\n    }\r\n};","import { createStore, applyMiddleware } from 'redux';\r\nimport thunk from 'redux-thunk';\r\nimport logger from 'redux-logger';\r\nimport rootReducer from '../reducers/root_reducer';\r\n\r\nconst configureStore = (preloadedState = {}) => createStore(\r\n  rootReducer,\r\n  preloadedState,\r\n  applyMiddleware(thunk, logger),\r\n);\r\n\r\nexport default configureStore;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport './reset.css';\nimport Root from './components/root';\nimport configureStore from './store/store';\n\n\n\nconst initialState = {\n  user: {\n    username: 'demo'\n  },\n  accounts: {},\n  categories: { 'none': {\n    id: 'none',\n    title: 'None',\n    color: '#000000',\n    expenses: []\n  }},\n  expenses: {}\n}\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  let store;\n\n  if (localStorage.userInfo) {\n\n    store = configureStore(JSON.parse(localStorage.userInfo))\n    \n  } else {\n    localStorage.setItem('userInfo', JSON.stringify(initialState));\n    store = configureStore(initialState);\n  }\n  const root = document.getElementById('root');\n  ReactDOM.render(<Root store={store} />, root);\n});","// extracted by mini-css-extract-plugin\nmodule.exports = {\"rows\":\"expenses_rows__1alZB\",\"time\":\"expenses_time__3PDhF\",\"highlightSort\":\"expenses_highlightSort__1bP4W\",\"dateRow\":\"expenses_dateRow__27z76\",\"reports\":\"expenses_reports__16c0C\",\"reportList\":\"expenses_reportList__SjlIu\",\"reportsChoices\":\"expenses_reportsChoices__26rUr\",\"reportNewExpense\":\"expenses_reportNewExpense__3Y6FT\",\"reportsActive\":\"expenses_reportsActive__3qIlT\"};"],"sourceRoot":""}